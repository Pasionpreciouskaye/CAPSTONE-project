<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Settings</title>
    <link rel="stylesheet" href="./style/userpage.css" />
    <script
      src="./node_modules/pocketbase/dist/pocketbase.umd.js"
      defer
    ></script>
    <script src="./js/userpage.js" defer></script>
  </head>
  <body>
    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="profile">
          <img src="./assets/userpic.png" alt="User Profile" />
          <h3 id="user-name">Anna May</h3>
        </div>
        <ul class="menu">
          <li><a href="./index.html">Home</a></li>
          <li><a href="./eventpage.html">Events</a></li>
          <li><a href="./Project/projects.html">Projects</a></li>
          <li><a href="./contactus.html">Contact Us</a></li>
          <li class="dropdown">
            Budget Transparency
            <ul class="dropdown-content">
              <li><a href="./user-transparency.html">Transparency</a></li>
              <li><a href="./user-inventory.html">Inventory</a></li>
            </ul>
          </li>
          <li class="logout" onclick="logout()">Logout</li>
        </ul>
      </aside>

      <!-- Main Content -->
      <main class="content">
        <h2>Personal Information</h2>
        <form id="profile_Form">
          <div class="row">
            <div class="col">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" name="firstName" />
            </div>
            <div class="col">
              <label for="middleName">Middle Name</label>
              <input type="text" id="middleName" name="middleName" />
            </div>
            <div class="col">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" name="lastName" />
            </div>
          </div>

          <label for="email">Email</label>
          <input type="email" id="email" name="email" disabled />
          <p class="verified">âœ” Verified</p>

          <div class="row">
            <div class="col">
              <label for="phone">Phone Number</label>
              <input type="text" id="phone" name="phone" />
            </div>
            <div class="col">
              <label for="dob">Date of Birth</label>
              <input type="text" id="dob" name="dob" />
            </div>
          </div>

          <label for="address">Address</label>
          <input type="text" id="address" name="address" />

          <div class="buttons">
            <button type="submit" id="saveBtn" class="btn-success">
              Save Changes
            </button>
            <button type="button" id="discardBtn" class="btn-danger">
              Discard Changes
            </button>
          </div>
        </form>
      </main>
    </div>

    <!-- Save Success Modal -->
    <div id="saveModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <h2>Profile Updated Successfully!</h2>
        <button onclick="closeSaveModal()" class="modal-btn">OK</button>
      </div>
    </div>

    <!-- Discard Confirmation Modal -->
    <div id="discardModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <h2>Are you sure you want to discard changes?</h2>
        <div class="button-group">
          <button onclick="confirmDiscard()" class="modal-btn yes">Yes</button>
          <button onclick="closeDiscardModal()" class="modal-btn no">No</button>
        </div>
      </div>
    </div>

    <script>
      function logout() {
        const pb = new PocketBase("http://127.0.0.1:8090");
        pb.authStore.clear();
        location.href = "landing.html";
      }
    </script>
  </body>
</html>
